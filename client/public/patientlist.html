<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MediMed Patient List</title>
</head>

<body>
    <!-- Navigation -->
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark static-top">
        <div class="container col-sm-8">
            <img src="./MediMed.png" width="60" height="60">
            <a class="navbar-brand p-1" href="index.html">MediMed Patients</a>
            <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarResponsive"
                aria-controls="navbarResponsive" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarResponsive">
                <ul class="navbar-nav ml-auto">
                    <li class="nav-item">
                        <a class="nav-link" href="index.html">Home</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="appointment.html">Book an Appointment</a>
                    </li>
                    <li class="nav-item">
                        <a id="logout" class="nav-link" href="index.html"><span
                                class="oi oi-account-logout link-icon"></span>Logout</a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

    <div class="container">
        <div class="row"></div>
            <div id="results"><pre></pre></div>
        <div class="row">
            <!-- Page Header -->
            <h2 class="mt-5">Patients by Category</h2>
        </div>
        <div class="row">
            <div class="col-sm-2">
                <!-- Page Body Left Column (menu) -->
                <div id="categoryList" class="list-group">
                    <a href="#" class="list-group-item list-group-item-action">First item</a>
                    <a href="#" class="list-group-item list-group-item-action">Second item</a>
                    <a href="#" class="list-group-item list-group-item-action">Third item</a>
                </div>
            </div>
            <div class="col-sm-10">
                <!-- Page Body Right Side (Content goes here) -->


                <div id="patients">

                    <table class="table table-striped table-bordered table-hover">
                        <thead>
                            <tr>
                                <!-- <th>id</th> -->
                            
                                <th>f_name</th>
                                <th>l_name</th>
                                <th>location</th>
                                <th>dob</th>
                                <th>illness</th>
                            </tr>
                        </thead>
                        <tbody id="patientRows">
                            <!-- Patient Rows to be inserted here -->
                        </tbody>
                    </table>

                     <!-- Add patient toggle buton goes here-->

                </div>
                <!-- Toggle button used to show or hide the add new patient form. -->
               <!-- Add product toggle buton goes here-->
                <button id="AddPatientButton" 
                    type="button" class="btn btn-primary"
                    data-bs-toggle="modal" 
                    data-bs-target="#PatientFormDialog">
                    Add Patient
                </button>
            </div>
        </div>
</div>
        <!-- Patient Form -->

<div class="modal fade" id="PatientFormDialog">

    <div class="modal-dialog modal-dialog-centered">
    
    <div class="modal-content">
    
    <!-- Header -->
    
    <div class="modal-header">
    
    <h4 class="modal-title" id="patientFormTitle">Add a Patient</h4>
    
    <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
    
    </div>
    
    <!-- Body - contains form inputs-->
    
    <!-- The id of each input matches a Patient property -->
    
    <div class="modal-body">
    
    <form id="patientForm">
    
    <div class="form-group">
    
    <label for="category_id">Category:</label>
    
    <select id="category_id" class="form-select" name="category_id">
    
    <option selected>Choose a category</option>
    
    </select>
    
    </div>
    
    <div class="form-group">
    
    <label for="patient_f_name">Name:</label>
    
    <input id="patient_f_name" type="text"
    
    class="form-control" name="patient_name">
    
    </div>
    
    <div class="form-group">
    
    <label for="patient_l_name">Last name:</label>
    
    <input id="patient_l_name" type="text"
    
    class="form-control" name="patient_l_name">
    
    </div>
    
    <div class="form-group">
    
    <label for="location">Stock:</label>
    
    <input id="location" type="text"
    
    class="form-control" name="location">
    
    </div>
    
    <div class="form-group">
    
    <label for="dob">Date of birth:</label>
    
    <input id="dob" type="date"
    

    
    class="form-control" name="patient_dob">
    
    </div>
    <div class="form-group">
    
        <label for="illness">Illness:</label>
        
        <input id="illness" type="text"
        
    
        
        class="form-control" name="illness">
        
        </div>
    
    <!-- patientId is a hidden field value is not required but set = 0-->
    
    <input id="_id" type="hidden" name="_id" value="0">
    
    </form>
    
    </div>
    
    <!-- footer -->
    
    <div class="modal-footer">
    
    <!-- Buttons - note onclick and data-dismiss attribtes-->
    
    <button onclick="addOrUpdatePatient()" type="button"
    
    class="btn btn-primary" data-bs-dismiss="modal">Save
    
    </button>
    
    <button type="button"
    
    class="btn btn-secondary"
    
    data-bs-dismiss="modal">Close
    
    </button>
    
    </div>
    
    </div>
    
    </div>
    
    </div> <!-- End Patient Form -->
    </div>
    <!-- Modal forms go here-->
    <!-- Bootstrap Modal Dialogs-->
    <!-- Patient Form -->
    <div class="modal fade" id="PatientFormDialog">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content">

                <!-- Header -->
                <div class="modal-header">
                    <h4 class="modal-title" id="patientFormTitle">Add a Patient</h4>
                    <button type="button" class="close" data-dismiss="modal">&times;</button>
                </div>

                <!-- Body - contains form inputs-->
                <!-- The id of each input matches a Patient property -->
                <div class="modal-body">
                    <form id="patientForm">
                        <div class="form-group">
                            <label for="CategoryId">Category:</label>
                            <select id="CategoryId" class="form-control" name="CategoryId">
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="PatientFirstName">Name:</label>
                            <input id="PatientFirstName" type="text" class="form-control" name="PatientName">
                        </div>
                        <div class="form-group">
                            <label for="Location">Location:</label>
                            <input id="Location" type="text" class="form-control" name="Location">
                        </div>
                        <div class="form-group">
                            <label for="dob">DOB:</label>
                            <input id="dob" type="number" class="form-control" name="dob">
                        </div>
                        <div class="form-group">
                            <label for="Illness">Illness:</label>
                            <input id="Illness" type="text" class="form-control" name="Illness">
                        </div>
                        <!-- patientId is a hidden field value is not required but set = 0-->
                        <input id="f_name" type="hidden" name="f_name" value="0">
                    </form>
                </div>
                displayPatients
                <!-- footer -->
                <div class="modal-footer">
                    <!-- Buttons - note onclick and data-dismiss attribtes-->
                    <button onclick="addOrUpdatePatient()" type="button" 
                        class="btn btn-primary"
                        data-bs-dismiss="modal">Save
                    </button>
                

            </div> 
        </div>
    </div> <!-- End Patient Form  -->

    <link rel="stylesheet" href="./css/style.css">
    <!-- Bootstrap 4 Dependencies -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css"
        integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
    <link rel="stylesheet" href="./font/css/open-iconic-bootstrap.min.css">
    <script src="https://code.jquery.com/jquery-3.5.1.min.js" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js"
        integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6"
        crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js"
        integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo"
        crossorigin="anonymous"></script>
    <!-- Auth0 JavaScript --> 

    <!-- End Auth0 JavaScript --> 
    <script src="./javascript/script.js"></script>
    <script src="./javascript/models/patient.js"></script>
</body>

</html>